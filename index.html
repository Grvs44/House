<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="initial-scale=1,width=device-width"/>
<link rel="icon" href="/favicon.png"/>
<title>Week</title>
</head>
<body style="font-family:'Segoe UI',Arial">
<h1 id="w"></h1>
<h1>Month <span id="m"></span></h1>
<script type="module">
import weeks from './weeks.json' with {type:'json'}
const pad = n=>n<10?'0'+n:n
const now = new Date()
console.log(now)
const monday = new Date(now - (((now.getDay() + 6) % 7)*86400000))
const str = `${monday.getFullYear()}-${pad(monday.getMonth()+1)}-${pad(monday.getDate())}`
console.log(str)
let week = 'Unknown week'
for (const group of weeks){
  const i = group.values.indexOf(str)
  if (i != -1){
    week = group.name + ' week ' + (i+1)
    break
  }
}
document.getElementById('w').innerText = week
document.getElementById('m').innerText = now.getMonth()
</script>
</body>
</html>
